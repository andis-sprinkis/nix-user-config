#!/usr/bin/env sh
set -eu

if [ "${BLOCK_BUTTON:-""}" ]; then
  case "$BLOCK_BUTTON" in
    "2")
      "${XDG_DATA_HOME:-$HOME/.local/share}/i3/new_workspace" 1> "/dev/null" 2> "/dev/null" & disown
    ;;
    "4")
      "${XDG_DATA_HOME:-$HOME/.local/share}/i3/temp_no_mouse_warping_container" "workspace" "prev_on_output" 1> "/dev/null" 2> "/dev/null" & disown
    ;;
    "5")
      "${XDG_DATA_HOME:-$HOME/.local/share}/i3/temp_no_mouse_warping_container" "workspace" "next_on_output" 1> "/dev/null" 2> "/dev/null" & disown
    ;;
  esac
fi

REPORT_WAYLAND="${REPORT_WAYLAND:-"0"}"
REPORT_X11="${REPORT_X11:-"1"}"

if [ "${DISPLAY:-""}" ] && [ -z "${WAYLAND_DISPLAY:-""}" ] && [ "$REPORT_X11" = "1" ]; then
  exec echo "On X11
X11"
fi

if [ "${WAYLAND_DISPLAY:-""}" ] && [ "$REPORT_WAYLAND" = "1" ]; then
  exec echo "On Wayland
Wayland"
fi

exit "1"
